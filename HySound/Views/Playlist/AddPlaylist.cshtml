@using HySound.ViewModels.Playlist
@model AddPlaylistViewModel

<div class="album-container">
    <div class="album-header">
        <h1 class="album-title">Add New Playlist</h1>
    </div>

    <form method="post" class="album-form" enctype="multipart/form-data">
        <div class="album-form-grid">
            <div class="album-details">
                <div class="cover-upload-container">
                    <div class="cover-preview" id="coverPreview">
                        <svg class="cover-placeholder" width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 16V8M8 12H16M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <span class="upload-text">Upload Cover</span>
                    </div>
                    <input type="file" id="imageFile" asp-for="Picture" accept="image/*" class="cover-upload" />
                </div>

                <div class="input-group">
                    <label for="Title">Playlist Title</label>
                    <input type="text" id="Title" placeholder="Enter playlist title" asp-for="Title" class="album-input" required />
                </div>
            </div>

            <div class="playlist-info">
                <div class="info-header">
                    <h2>About Your Playlist</h2>
                </div>

                <div class="info-content">
                    <div class="info-item">
                        <div class="info-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 19V5L21 12L9 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>
                        <div class="info-text">
                            <h3>Your Personal Collection</h3>
                            <p>Create a playlist that reflects your unique music taste or fits your mood.</p>
                        </div>
                    </div>

                    <div class="info-item">
                        <div class="info-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M9.5 9C9.5 8.17157 10.1716 7.5 11 7.5H13C13.8284 7.5 14.5 8.17157 14.5 9C14.5 9.82843 13.8284 10.5 13 10.5H11C10.1716 10.5 9.5 11.1716 9.5 12C9.5 12.8284 10.1716 13.5 11 13.5H13C13.8284 13.5 14.5 14.1716 14.5 15C14.5 15.8284 13.8284 16.5 13 16.5H11C10.1716 16.5 9.5 15.8284 9.5 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M12 7.5V6M12 18V16.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>
                        <div class="info-text">
                            <h3>Free to Create</h3>
                            <p>Unlimited playlists at no cost. Let your creativity flow.</p>
                        </div>
                    </div>

                    <div class="info-item">
                        <div class="info-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 21V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V21M19 21H5M19 21H21M5 21H3M9 6.5H15M9 10.5H15M9 14.5H13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>
                        <div class="info-text">
                            <h3>Easy Organization</h3>
                            <p>After creating, you can add tracks to your playlist from your library.</p>
                        </div>
                    </div>
                </div>

                <div class="playlist-tips">
                    <h3>Tips for Great Playlists</h3>
                    <ul class="tips-list">
                        <li>
                            <span class="tip-marker">•</span>
                            <span class="tip-text">Choose a descriptive name that captures the mood or theme</span>
                        </li>
                        <li>
                            <span class="tip-marker">•</span>
                            <span class="tip-text">Upload a custom cover image that matches your playlist's vibe</span>
                        </li>
                        <li>
                            <span class="tip-marker">•</span>
                            <span class="tip-text">Keep playlists focused around a specific theme, genre, or mood</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="album-cancel">Cancel</button>
            <button type="submit" class="album-submit">Create Playlist</button>
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Cover image preview
        const coverInput = document.getElementById('imageFile');
        const coverPreview = document.getElementById('coverPreview');

        coverInput.addEventListener('change', function () {
            if (this.files && this.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    coverPreview.innerHTML = `<img src="${e.target.result}" class="cover-preview-image" alt="Playlist Cover">`;
                    coverPreview.classList.add('has-image');
                }

                reader.readAsDataURL(this.files[0]);
            }
        });

        // Click to trigger file upload
        coverPreview.addEventListener('click', function () {
            coverInput.click();
        });
    });
</script>

<style>
    /* Base Styles */
    :root {
        --primary-color: #1DB954;
        --primary-hover: #1ed760;
        --background: #121212;
        --secondary-bg: #181818;
        --card-bg: #282828;
        --text-primary: #ffffff;
        --text-secondary: #b3b3b3;
        --border-radius: 8px;
    }

    body {
        background: var(--background);
        color: var(--text-primary);
        font-family: 'Circular', 'Spotify Circular', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        min-height: 100vh;
    }

    /* Container Layout */
    .album-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px;
    }

    .album-header {
        margin-bottom: 32px;
        padding-bottom: 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .album-title {
        font-size: 32px;
        font-weight: 700;
        margin: 0;
    }

    /* Form Grid Layout - Matching the album page */
    .album-form-grid {
        display: grid;
        grid-template-columns: 300px 1fr;
        gap: 32px;
    }

    /* Album Details Section */
    .album-details {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    /* Cover Upload */
    .cover-upload-container {
        margin-bottom: 20px;
        position: relative;
    }

    .cover-preview {
        width: 260px;
        height: 260px;
        background: var(--card-bg);
        border-radius: var(--border-radius);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        overflow: hidden;
    }

        .cover-preview:hover {
            background: #333333;
        }

        .cover-preview.has-image {
            background: none;
        }

    .cover-preview-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .cover-placeholder {
        opacity: 0.6;
        margin-bottom: 12px;
    }

    .upload-text {
        font-size: 14px;
        color: var(--text-secondary);
    }

    .cover-upload {
        position: absolute;
        width: 1px;
        height: 1px;
        opacity: 0;
    }

    /* Input Styling */
    .input-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

        .input-group label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

    .album-input {
        background: var(--card-bg);
        border: none;
        border-radius: var(--border-radius);
        padding: 12px 16px;
        font-size: 16px;
        color: var(--text-primary);
        transition: all 0.2s ease;
    }

        .album-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }

        .album-input::placeholder {
            color: var(--text-secondary);
            opacity: 0.7;
        }

    /* Playlist Info Section */
    .playlist-info {
        background: var(--secondary-bg);
        border-radius: var(--border-radius);
        padding: 24px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .info-header {
        margin-bottom: 24px;
    }

        .info-header h2 {
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

    /* Info Content */
    .info-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 32px;
    }

    .info-item {
        background: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 20px;
        display: flex;
        align-items: flex-start;
        gap: 16px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

        .info-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

    .info-icon {
        color: var(--primary-color);
        flex-shrink: 0;
    }

    .info-text h3 {
        font-size: 18px;
        font-weight: 600;
        margin: 0 0 8px 0;
    }

    .info-text p {
        font-size: 14px;
        color: var(--text-secondary);
        margin: 0;
        line-height: 1.5;
    }

    /* Playlist Tips */
    .playlist-tips {
        background: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 20px;
    }

        .playlist-tips h3 {
            font-size: 18px;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 16px;
        }

    .tips-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

        .tips-list li {
            display: flex;
            align-items: baseline;
            margin-bottom: 12px;
        }

    .tip-marker {
        color: var(--primary-color);
        margin-right: 10px;
        font-size: 20px;
    }

    .tip-text {
        font-size: 14px;
        line-height: 1.5;
        color: var(--text-secondary);
    }

    /* Form Actions */
    .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 16px;
        margin-top: 32px;
    }

    .album-cancel {
        padding: 12px 24px;
        background: transparent;
        color: var(--text-primary);
        border: 1px solid var(--text-secondary);
        border-radius: var(--border-radius);
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.2s ease;
    }

        .album-cancel:hover {
            background: rgba(255, 255, 255, 0.1);
        }

    .album-submit {
        padding: 12px 24px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: var(--border-radius);
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.2s ease;
    }

        .album-submit:hover {
            background: var(--primary-hover);
            transform: scale(1.02);
        }

    /* Responsive adjustments */
    @@media (max-width: 768px) {
        .album-form-grid {
            grid-template-columns: 1fr;
        }

        .cover-preview {
            width: 100%;
            max-width: 260px;
            margin: 0 auto;
        }

        .info-content {
            grid-template-columns: 1fr;
        }
    }

    @@media (max-width: 480px) {
        .album-container {
            padding: 16px;
        }

        .form-actions {
            flex-direction: column;
        }

        .album-cancel, .album-submit {
            width: 100%;
        }
    }
</style>